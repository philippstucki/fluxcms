<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class popoon</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
						<script src="../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../media/images/plus.png";
				imgMinus.src = "../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class popoon</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Class for doing everything in popoon :)</p>
	<ul class="tags">
				<li><span class="field">version:</span> $Id: popoon.html,v 1.2 2004/03/08 07:37:48 chregu Exp $</li>
				<li><span class="field">author:</span> Christian Stocker &lt;<a href="mailto:chregu@bitflux.ch">chregu@bitflux.ch</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_popoon_php.html">/popoon.php</a> (line <span class="field"><a href="..//__filesource/fsource_popoon__popoon.php.html#a118">118</a></span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
								<div class="var-title">
					<span class="var-type">string</span>
					<a href="#$cacheDir" title="details" class="var-name">$cacheDir</a>
				</div>
								<div class="var-title">
					<span class="var-type">int</span>
					<a href="#$errorLevel" title="details" class="var-name">$errorLevel</a>
				</div>
							</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
								
				<div class="method-definition">
											<span class="method-result">popoon</span>
										<a href="#popoon" title="details" class="method-name">popoon</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$sitemapFile</span> = <span class="var-default">null</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$uri</span> = <span class="var-default">null</span>], <span class="var-type">popoon_classes_config</span>&nbsp;<span class="var-name">$options</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#handleError" title="details" class="method-name">handleError</a>
											(<span class="var-type">object PEAR_Error</span>&nbsp;<span class="var-name">$data</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#isError" title="details" class="method-name">isError</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$data</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">object PEAR_Error</span>
										<a href="#raiseError" title="details" class="method-name">raiseError</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>, [<span class="var-type">int</span>&nbsp;<span class="var-name">$code</span> = <span class="var-default">null</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$file</span> = <span class="var-default">null</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$line</span> = <span class="var-default">null</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$mode</span> = <span class="var-default">null</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#run" title="details" class="method-name">run</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$sitemapFile</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$uri</span> = <span class="var-default">null</span>], [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#saveFile" title="details" class="method-name">saveFile</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$content</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$filename</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#setErrorLevel" title="details" class="method-name">setErrorLevel</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$level</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setOptions" title="details" class="method-name">setOptions</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#stripXmlPI" title="details" class="method-name">stripXmlPI</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$xml</span>)
									</div>
							</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$cacheDir" id="$cacheDir"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$cacheDir</span>
			 = <span class="var-default"> &quot;./tmp/&quot;</span>			(line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a125">125</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The Directory, where the cached sitemaps should be saved</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$errorLevel" id="$errorLevel"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$errorLevel</span>
			 = <span class="var-default"> POPOON_ERROR_DEFAULT</span>			(line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a134">134</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Error Level  It's a static variable so it used in every instance of popoon</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodpopoon" id="popoon"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor popoon</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a147">147</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Constructor</p>
<p class="description"><p>If $sitemapFile (or more) is provided, the method run() is immediately called.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
				<li><span class="field">see:</span> <a href="../popoon/popoon.html#methodrun">popoon::run()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">popoon</span>
		<span class="method-name">
			popoon
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$sitemapFile</span> = <span class="var-default">null</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$uri</span> = <span class="var-default">null</span>], <span class="var-type">popoon_classes_config</span>&nbsp;<span class="var-name">$options</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$sitemapFile</span><span class="var-description">: the location of sitemap.xml, can be relativ</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$uri</span><span class="var-description">: the uri of the call, optional (takes _SERVER[&quot;REQUEST_URI&quot;] then)</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$options</span><span class="var-description">: class variable options</span>			</li>
				</ul>
		
		
	</div>
<a name="methodhandleError" id="handleError"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">handleError</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a319">319</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Handles Popoon errors</p>
<p class="description"><p>This method does the error-handling of popoon</p><p>popoon's error handling is based on PEAR's error handling.   A popoon error is generated with popoon::raiseError(..), which   on the other hand raises a PEAR_Error with PEAR::raiseError(..)   This way, the user can use the PEAR errorhandling which is triggered   at PEAR::raiseError(..). Therefore, if the user sets the   PEAR::setErrorHandling for example to PEAR_ERROR_CALLBACK, he can   intercept popoon-errors before we catch it here.</p><p>If the PEAR::errorLevel is set to something different   than the default value (PEAR_ERROR_RETURN) nothing won't   happen here at all. Otherwise it will print the error messages   and die if it's FATAL</p><p>popoon::raiseError will automatically call this method, and therefore   one doesn't have to check for errors within popoon.</p><p>Performance in ErrorHandling is only important in isError, since we maybe   use this function more often. raiseError and handleError will only be   used at errors and therefore no issue for performance. Maybe one could   export this few popoon::error-functions to an external class.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
				<li><span class="field">see:</span> <a href="../popoon/popoon.html#methodraiseError">popoon::raiseError()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			handleError
		</span>
					(<span class="var-type">object PEAR_Error</span>&nbsp;<span class="var-name">$data</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">object PEAR_Error</span>
				<span class="var-name">$data</span>			</li>
				</ul>
		
		
	</div>
<a name="methodisError" id="isError"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">isError</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a281">281</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Tell whether a value is a PEAR error.</p>
<p class="description"><p>This method can be used, so we don't have to load  PEAR.php just for checking this...</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> true if parameter is an error</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			isError
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$data</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$data</span><span class="var-description">: the value to test</span>			</li>
				</ul>
		
		
	</div>
<a name="methodraiseError" id="raiseError"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">raiseError</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a258">258</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Trigger a PEAR error</p>
<p class="description"><p>To improve performances, the PEAR.php file is included dynamically.  The file is only included when an error is triggered. So, in most  cases, the file isn't included and perfs are much better.</p><p>After raising a PEAR_Error we call popoon::handleError(), which does   the main popoon  errorhandling (printing and dying), if PEAR_Error didn't take   any action before</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Object</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">object PEAR_Error</span>
		<span class="method-name">
			raiseError
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>, [<span class="var-type">int</span>&nbsp;<span class="var-name">$code</span> = <span class="var-default">null</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$file</span> = <span class="var-default">null</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$line</span> = <span class="var-default">null</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$mode</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$msg</span><span class="var-description">: error message</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$code</span><span class="var-description">: error code</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$file</span><span class="var-description">: filename, where the error occured.</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$line</span><span class="var-description">: linenumber, where the error occured.</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$mode</span><span class="var-description">: PEAR error mode, should not be used, since this is up to the user...</span>			</li>
				</ul>
		
		
	</div>
<a name="methodrun" id="run"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">run</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a177">177</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">runs the sitemap</p>
<p class="description"><p>More docu, please</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
				<li><span class="field">see:</span> <a href="../popoon/popoon.html#methodpopoon">popoon::popoon()</a>, <a href="../popoon/popoon.html#methodsetOptions">popoon::setOptions()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			run
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$sitemapFile</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$uri</span> = <span class="var-default">null</span>], [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$sitemapFile</span><span class="var-description">: the location of sitemap.xml, can be relativ</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$uri</span><span class="var-description">: the uri of the call, optional (takes _SERVER[&quot;REQUEST_URI&quot;] then)</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$options</span><span class="var-description">: class variable options</span>			</li>
				</ul>
		
		
	</div>
<a name="methodsaveFile" id="saveFile"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">saveFile</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a226">226</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Save a file to the filesystem</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			saveFile
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$content</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$filename</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$content</span><span class="var-description">: The content of the file</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$filename</span><span class="var-description">: The filename</span>			</li>
				</ul>
		
		
	</div>
<a name="methodsetErrorLevel" id="setErrorLevel"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">setErrorLevel</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a395">395</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">sets errorLevel for the popoon class</p>
<p class="description"><p>It works like the php-error handling. You have to bit-operate the different   popoon error-levels. At the moment these are</p><p>POPOON_ERROR_NOTICE, POPOON_ERROR_WARNING, POPOON_ERROR_FATAL.</p><p>You should not turn off WARNING and FATAL</p><p>Default is POPOON_ERROR_DEFAULT = 7</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> old errorLevel;</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			setErrorLevel
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$level</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$level</span><span class="var-description">: the wished level</span>			</li>
				</ul>
		
		
	</div>
<a name="methodsetOptions" id="setOptions"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">setOptions</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a195">195</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sets class options</p>
<p class="description"><p>Sets options for a class. the array has to be an associative  array, where the key is a class-variable and the value is the  value. With this method, you can't set class-variable, which  were not defined before</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setOptions
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$options</span><span class="var-description">: associative array</span>			</li>
				</ul>
		
		
	</div>
<a name="methodstripXmlPI" id="stripXmlPI"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">stripXmlPI</span> (line <span class="line-number"><a href="..//__filesource/fsource_popoon__popoon.php.html#a213">213</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Strips the starting xml processing instruction from a xml file</p>
<p class="description"><p>This is needed, if we have short_open_tag = On, because then php  chokes on it. We don't need it if it's = Off.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> The XML without the PI</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			stripXmlPI
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$xml</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$xml</span><span class="var-description">: The XML Document as a string</span>			</li>
				</ul>
		
		
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Mon,  8 Mar 2004 08:33:30 +0100 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.0RC2</a>
	</p>
	</div></body>
</html>